
   PASS  Tests\Unit\ActivityLogModelTest
  ✓ model can be instantiated                                            0.16s  
  ✓ model has fillable attributes                                        0.01s  
  ✓ properties cast to json                                              0.01s  
  ✓ scope in log filters by log name                                     0.01s  
  ✓ scope caused by filters by causer                                    0.04s  
  ✓ scope for subject filters by subject                                 0.02s  
  ✓ user method returns user when causer is user                         0.01s  
  ✓ user method returns null when causer is not user                     0.01s  
  ✓ subject morph relationship                                           0.01s  
  ✓ causer morph relationship                                            0.01s  
  ✓ activity log with null properties                                    0.01s  
  ✓ activity log with empty properties array                             0.01s  
  ✓ activity log with null batch uuid                                    0.01s  
  ✓ activity log with batch uuid                                         0.01s  
  ✓ multiple activity logs for same subject                              0.01s  
  ✓ scope filters can be combined                                        0.01s  
  ✓ created at and updated at cast to datetime                           0.01s  

   PASS  Tests\Unit\AttachmentModelTest
  ✓ model can be instantiated                                            0.02s  
  ✓ model has fillable attributes                                        0.01s  
  ✓ filename size and mime type are stored                               0.02s  
  ✓ embedded cast to boolean                                             0.03s  
  ✓ image mime types can be detected                                     0.02s  
  ✓ is image method works                                                0.02s  
  ✓ belongs to thread                                                    0.02s  

   PASS  Tests\Unit\ChannelModelTest
  ✓ model can be instantiated                                            0.02s  
  ✓ model has fillable attributes                                        0.01s  

   PASS  Tests\Unit\ConversationModelTest
  ✓ conversation status constants                                        0.01s  
  ✓ conversation state constants                                         0.01s  
  ✓ conversation has number
  ✓ conversation has subject
  ✓ conversation has status                                              0.01s  
  ✓ conversation has mailbox id                                          0.01s  
  ✓ conversation has customer id
  ✓ conversation has user id
  ✓ conversation has threads count                                       0.01s  
  ✓ conversation has preview                                             0.01s  
  ✓ conversation has last reply at                                       0.01s  
  ✓ conversation has closed at                                           0.01s  
  ✓ is active returns true for active status                             0.01s  
  ✓ is active returns false for non active status                        0.02s  
  ✓ is closed returns true for closed status                             0.01s  
  ✓ is closed returns false for non closed status                        0.02s  
  ✓ cc and bcc cast to json                                              0.01s  
  ✓ imported and has attachments cast to boolean                         0.01s  
  ✓ update folder assigns correct folder for active assigned conversati… 0.01s  
  ✓ update folder assigns correct folder for active unassigned conversa… 0.01s  
  ✓ update folder assigns correct folder for closed conversation         0.01s  
  ✓ update folder assigns correct folder for spam conversation           0.01s  
  ✓ update folder keeps folder when no matching folder exists            0.01s  
  ✓ conversation with null cc and bcc                                    0.01s  
  ✓ conversation with empty arrays for cc and bcc                        0.01s  
  ✓ conversation status pending                                          0.01s  
  ✓ conversation status spam                                             0.02s  
  ✓ conversation with null user id is unassigned                         0.01s  
  ✓ conversation number is integer                                       0.01s  
  ✓ conversation threads count is integer                                0.01s  

   PASS  Tests\Unit\CustomerControllerTest
  ✓ controller can be instantiated                                       0.05s  
  ✓ index method exists                                                  0.01s  
  ✓ show method exists
  ✓ edit method exists
  ✓ update method exists

   PASS  Tests\Unit\CustomerModelTest
  ✓ customer has first name attribute                                    0.01s  
  ✓ customer has last name attribute                                     0.01s  
  ✓ customer has company attribute                                       0.01s  
  ✓ customer has phones attribute                                        0.01s  
  ✓ customer get full name with both names                               0.01s  
  ✓ customer get full name with only first name                          0.01s  
  ✓ customer get full name with only last name                           0.01s  
  ✓ customer has notes attribute                                         0.01s  
  ✓ customer has address attribute                                       0.01s  
  ✓ customer has city attribute                                          0.01s  
  ✓ customer has conversations relationship                              0.01s  
  ✓ customer full name accessor works                                    0.01s  
  ✓ customer full name accessor trims whitespace                         0.01s  
  ✓ customer has emails relationship                                     0.01s  
  ✓ customer get main email returns primary email                        0.01s  
  ✓ customer get main email returns first email if no primary            0.01s  
  ✓ customer get main email returns null when no emails                  0.01s  
  ✓ customer has threads relationship                                    0.01s  
  ✓ customer has channels relationship                                   0.01s  
  ✓ customer get first name returns empty string when null               0.01s  
  ✓ customer get first name returns actual value                         0.01s  
  ✓ customer primary email attribute returns primary email               0.01s  
  ✓ customer primary email attribute returns null when no primary        0.01s  
  ✓ customer casts attributes correctly                                  0.01s  
  ✓ customer fillable includes all expected fields                       0.01s  

   PASS  Tests\Unit\DashboardControllerTest
  ✓ controller can be instantiated                                       0.02s  
  ✓ index method exists                                                  0.01s  

   PASS  Tests\Unit\EmailModelEnhancedTest
  ✓ email has customer relationship                                      0.01s  
  ✓ email is primary returns true for type 1                             0.01s  
  ✓ email is primary returns false for type 2                            0.01s  
  ✓ email is secondary returns true for type 2                           0.01s  
  ✓ email is secondary returns false for type 1                          0.01s  
  ✓ email sanitize converts mixed case to lowercase                      0.01s  
  ✓ email sanitize removes trailing dots                                 0.01s  
  ✓ email sanitize removes dots before at symbol                         0.01s  
  ✓ email sanitize preserves dots in local part
  ✓ email sanitize returns false for missing at symbol                   0.01s  
  ✓ email sanitize returns false for empty string                        0.01s  
  ✓ email sanitize returns false for null                                0.01s  
  ✓ email sanitize accepts valid simple email                            0.02s  
  ✓ email sanitize accepts email with subdomain                          0.01s  
  ✓ email sanitize accepts email with plus sign                          0.01s  
  ✓ email sanitize accepts email with numbers                            0.01s  
  ✓ email sanitize accepts email with hyphen
  ✓ email sanitize accepts email with underscore                         0.01s  
  ✓ email sanitize returns false for only at symbol
  ✓ email sanitize returns false for at at start                         0.01s  
  ✓ email sanitize returns false for at at end                           0.01s  
  ✓ email casts attributes correctly                                     0.01s  
  ✓ email fillable includes expected fields                              0.01s  
  ✓ email can be created with factory                                    0.01s  
  ✓ email factory creates primary email by default                       0.01s  
  ✓ email factory can create secondary email                             0.01s  
  ✓ email sanitize handles unicode characters                            0.01s  
  ✓ multiple emails can belong to same customer                          0.01s  

   PASS  Tests\Unit\EmailModelTest
  ✓ email has email attribute                                            0.02s  
  ✓ email has customer id attribute                                      0.01s  
  ✓ email can set all attributes

   PASS  Tests\Unit\EventBroadcastingTest
  ✓ customer created conversation event dispatched                       0.02s  
  ✓ customer replied event dispatched                                    0.02s  
  ✓ new message received event dispatched                                0.02s  
  ✓ event contains correct conversation data                             0.01s  
  ✓ event contains correct thread data                                   0.01s  
  ✓ multiple events can be dispatched                                    0.02s  
  ✓ event not dispatched when not triggered                              0.01s  
  ✓ event listeners are registered                                       0.01s  
  ✓ customer created conversation event properties                       0.01s  
  ✓ customer replied event properties                                    0.02s  
  ✓ new message received event properties                                0.02s  
  ✓ events can be serialized                                             0.02s  

   PASS  Tests\Unit\EventsTest
  ✓ conversation updated event has conversation                          0.02s  
  ✓ conversation updated broadcasts on correct channel                   0.01s  
  ✓ customer created conversation event has properties                   0.01s  
  ✓ customer replied event has thread                                    0.01s  
  ✓ new message received event has properties
  ✓ user viewing conversation event has conversation and user ids        0.01s  
  ✓ user viewing conversation broadcasts on correct channel              0.01s  

   PASS  Tests\Unit\FolderEdgeCasesTest
  ✓ deleting mailbox affects folders                                     0.01s  
  ✓ folder type constants are consistent                                 0.01s  
  ✓ folder can have zero conversations                                   0.01s  
  ✓ folder counters can be updated                                       0.01s  
  ✓ folder name is optional for system folders                           0.01s  
  ✓ personal folder type can have user                                   0.01s  
  ✓ multiple users can have personal folders in same mailbox             0.01s  
  ✓ all folder type helper methods work                                  0.02s  
  ✓ folder can store metadata                                            0.01s  
  ✓ starred folder type exists                                           0.01s  
  ✓ assigned folder type exists                                          0.01s  

   PASS  Tests\Unit\FolderHierarchyTest
  ✓ folder type helper methods                                           0.02s  
  ✓ folders belong to correct mailbox                                    0.01s  
  ✓ folders can belong to user                                           0.01s  
  ✓ system folders have no user                                          0.01s  
  ✓ folder counters are tracked                                          0.01s  
  ✓ folders can have conversations via pivot                             0.01s  
  ✓ mailbox can have multiple folder types                               0.01s  

   PASS  Tests\Unit\FolderModelTest
  ✓ folder type constants are defined                                    0.01s  
  ✓ folder belongs to mailbox                                            0.01s  
  ✓ folder can be inbox type                                             0.01s  

   PASS  Tests\Unit\HandleNewMessageListenerTest
  ✓ listener can be instantiated                                         0.01s  
  ✓ listener has handle method                                           0.01s  
  ✓ listener accepts new message received event                          0.01s  
  ✓ listener constructor no parameters                                   0.01s  
  ✓ listener class exists                                                0.01s  
  ✓ handle method signature                                              0.01s  
  ✓ listener processes multiple events                                   0.03s  
  ✓ listener handles event gracefully                                    0.01s  
  ✓ listener handles different thread types                              0.03s  
  ✓ listener handles rapid successive events                             0.04s  
  ✓ listener is stateless                                                0.02s  
  ✓ listener can be instantiated multiple times                          0.01s  
  ✓ listener handles events from different mailboxes                     0.03s  

   PASS  Tests\Unit\ImapServiceAdvancedTest
  ✓ handles missing imap server configuration                            0.08s  
  ✓ handles invalid imap hostname                                        0.01s  
  ✓ handles blank username                                               0.01s  
  ✓ handles blank password                                               0.01s  
  ✓ handles invalid port number                                          0.01s  
  ✓ handles nonexistent imap folder                                      0.01s  
  ✓ handles multiple imap folders                                        0.01s  
  ✓ return structure is always consistent                                0.01s  
  ✓ service never throws exceptions                                      0.01s  
  ✓ handles different encryption types                                   0.01s  
  ✓ handles different protocol types                                     0.01s  
  ✓ statistics are properly initialized                                  0.01s  
  ✓ logs connection attempts                                             0.01s  

   PASS  Tests\Unit\ImapServiceTest
  ✓ fetch emails returns array with no server                            0.02s  
  ✓ fetch emails method exists

   PASS  Tests\Unit\MailHelperTest
  ✓ is auto responder detects x autoreply                                0.02s  
  ✓ is auto responder detects auto submitted                             0.01s  
  ✓ is auto responder detects precedence bulk                            0.01s  
  ✓ is auto responder detects precedence junk
  ✓ is auto responder detects precedence list                            0.01s  
  ✓ is auto responder detects x autorespond                              0.01s  
  ✓ is auto responder detects x autoresponder                            0.01s  
  ✓ is auto responder returns false for normal email                     0.01s  
  ✓ is auto responder returns false for empty headers                    0.01s  
  ✓ is auto responder returns false for null headers                     0.01s  
  ✓ is auto responder case insensitive                                   0.01s  

   PASS  Tests\Unit\MailTest
  ✓ auto reply has properties                                            0.02s  
  ✓ auto reply envelope has subject                                      0.01s  
  ✓ conversation reply notification has properties                       0.01s  

   PASS  Tests\Unit\MailVarsTest
  ✓ replace mail vars with data set "no vars in string"                  0.01s  
  ✓ replace mail vars with data set "no data"                            0.01s  
  ✓ replace mail vars with data set "invalid variables"                  0.01s  
  ✓ replace mail vars with data set "no data (remove non replaced)"      0.01s  
  ✓ replace mail vars with data set "all data"                           0.01s  
  ✓ replace mail vars with data set "all data with fallbacks"            0.01s  
  ✓ replace mail vars with data set "show all fallbacks"                 0.01s  
  ✓ replace mail vars with data set "all data (escaped)"                 0.01s  
  ✓ replace mail vars with data set "partial data"
  ✓ replace mail vars with data set "partial data (with removal)"
  ✓ replace mail vars with data set "partial data with fallbacks"        0.01s  
  ✓ has vars                                                             0.01s  
  ✓ simple variable replacement                                          0.01s  
  ✓ fallback values                                                      0.01s  
  ✓ empty fallback removes variable
  ✓ html escaping
  ✓ remove non replaced variables                                        0.01s  

   PASS  Tests\Unit\MailboxControllerValidationTest
  ✓ mailbox name is required for creation                                0.02s  
  ✓ mailbox email must be unique                                         0.01s  
  ✓ mailbox email can remain same on update                              0.01s  
  ✓ in port must be integer                                              0.01s  
  ✓ out port must be integer                                             0.01s  
  ✓ in protocol must be valid                                            0.01s  
  ✓ out method must be valid                                             0.01s  
  ✓ in encryption must be valid                                          0.01s  
  ✓ out encryption must be valid                                         0.01s  
  ✓ auto reply enabled must be boolean                                   0.01s  
  ✓ valid mailbox data passes validation                                 0.01s  

   PASS  Tests\Unit\MailboxModelTest
  ✓ mailbox has name                                                     0.01s  
  ✓ mailbox has email                                                    0.01s  
  ✓ mailbox has from name                                                0.01s  
  ✓ mailbox has signature                                                0.01s  
  ✓ mailbox has auto reply enabled                                       0.01s  
  ✓ mailbox has auto reply subject                                       0.01s  
  ✓ mailbox has auto reply message
  ✓ mailbox has in server                                                0.01s  
  ✓ mailbox has in port                                                  0.01s  
  ✓ mailbox has out server
  ✓ mailbox has out port
  ✓ mailbox has status                                                   0.01s  

   PASS  Tests\Unit\MailboxPolicyTest
  ✓ admin can view any mailboxes                                         0.04s  
  ✓ non admin can view any mailboxes                                     0.01s  
  ✓ admin can create mailbox                                             0.01s  
  ✓ non admin cannot create mailbox                                      0.01s  
  ✓ admin can update mailbox                                             0.01s  
  ✓ non admin cannot update mailbox                                      0.01s  
  ✓ admin can delete mailbox                                             0.01s  
  ✓ non admin cannot delete mailbox                                      0.01s  

   PASS  Tests\Unit\MailboxScopesTest
  ✓ mailboxes can be filtered by user                                    0.02s  
  ✓ admin users have access to all mailboxes                             0.01s  
  ✓ user with no mailboxes returns empty collection                      0.01s  
  ✓ mailboxes can be ordered by name                                     0.01s  

   PASS  Tests\Unit\ModelRelationshipsTest
  ✓ conversation belongs to mailbox                                      0.02s  
  ✓ conversation belongs to customer                                     0.01s  
  ✓ conversation has many threads                                        0.02s  
  ✓ thread belongs to conversation                                       0.02s  
  ✓ mailbox has many conversations                                       0.02s  
  ✓ mailbox has many folders                                             0.01s  
  ✓ mailbox users many to many                                           0.01s  
  ✓ user belongs to many mailboxes                                       0.01s  
  ✓ eager loading prevents n plus 1 on conversations                     0.06s  
  ✓ eager loading multiple relations                                     0.04s  
  ✓ conversation can be assigned to user                                 0.01s  
  ✓ conversation can be unassigned                                       0.01s  
  ✓ empty relationships return empty collections                         0.01s  
  ✓ mailbox user pivot data                                              0.01s  
  ✓ conversation belongs to folder                                       0.01s  
  ✓ folder has many conversations                                        0.02s  
  ✓ thread can belong to user                                            0.02s  
  ✓ thread can belong to customer                                        0.02s  
  ✓ mailbox deletion cascades to conversations                           0.01s  
  ✓ conversation deletion cascades to threads                            0.02s  
  ✓ conversation followers relationship                                  0.02s  
  ✓ conversation belongs to many folders                                 0.02s  
  ✓ conversation created by user relationship                            0.01s  
  ✓ conversation closed by user relationship                             0.01s  
  ✓ mailbox active conversations query                                   0.02s  
  ✓ eager loading with counts                                            0.02s  
  ✓ thread has many attachments relationship                             0.02s  
  ✓ nested eager loading                                                 0.02s  
  ✓ conversation with null user relationship                             0.01s  
  ✓ conversation with null closed by user                                0.01s  
  ✓ activity log subject polymorphic with different models               0.01s  
  ✓ mailbox users detach                                                 0.01s  
  ✓ mailbox users sync                                                   0.01s  
  ✓ orphaned threads handling                                            0.02s  
  ✓ relationship counting without loading                                0.03s  
  ✓ relationship existence queries                                       0.03s  
  ✓ relationship where has queries                                       0.02s  

   PASS  Tests\Unit\ModuleModelTest
  ✓ model can be instantiated                                            0.05s  
  ✓ model has fillable attributes                                        0.01s  
  ✓ active cast to boolean                                               0.01s  
  ✓ description is stored                                                0.01s  
  ✓ is active returns true when active                                   0.01s  
  ✓ is active returns false when inactive                                0.01s  
  ✓ activate sets active to true                                         0.01s  
  ✓ deactivate sets active to false                                      0.01s  
  ✓ activate already active module                                       0.01s  
  ✓ deactivate already inactive module                                   0.01s  
  ✓ module with null description                                         0.01s  
  ✓ module alias is unique                                               0.01s  
  ✓ module version format                                                0.01s  
  ✓ created at and updated at timestamps                                 0.01s  
  ✓ module name and alias relationship                                   0.01s  

   PASS  Tests\Unit\OptionModelTest
  ✓ model can be instantiated                                            0.02s  
  ✓ model has fillable attributes                                        0.01s  
  ✓ option can store key value pairs                                     0.01s  
  ✓ option can retrieve value by name                                    0.01s  
  ✓ option returns default when key not found                            0.01s  
  ✓ option can set value by name                                         0.01s  
  ✓ option can update existing value                                     0.01s  
  ✓ option can delete by name                                            0.01s  
  ✓ option delete returns false when key not found                       0.01s  

   PASS  Tests\Unit\SendAutoReplyJobTest
  ✓ job has required properties                                          0.02s  
  ✓ job has timeout property                                             0.01s  
  ✓ handle method exists                                                 0.01s  
  ✓ failed method exists                                                 0.01s  

   PASS  Tests\Unit\SendAutoReplyListenerTest
  ✓ listener handle method exists                                        0.01s  
  ✓ listener has correct check period constant                           0.01s  

   PASS  Tests\Unit\SendConversationReplyJobTest
  ✓ job has required properties                                          0.01s  
  ✓ job implements should queue                                          0.01s  
  ✓ job is dispatchable                                                  0.01s  
  ✓ handle method exists                                                 0.01s  
  ✓ job sends email to recipient                                         0.02s  
  ✓ job sends conversation reply notification                            0.01s  
  ✓ job can be dispatched                                                0.02s  
  ✓ job handles various email formats                                    0.03s  
  ✓ job handles international domains                                    0.02s  
  ✓ job uses queueable trait                                             0.01s  
  ✓ job handles long email addresses                                     0.02s  
  ✓ job properties are public                                            0.01s  
  ✓ multiple jobs can be dispatched                                      0.02s  

   PASS  Tests\Unit\SendLogModelTest
  ✓ model can be instantiated                                            0.02s  
  ✓ model has fillable attributes                                        0.01s  
  ✓ is sent returns true for sent status                                 0.01s  
  ✓ is sent returns false for non sent status                            0.01s  
  ✓ is failed returns true for failed status                             0.01s  
  ✓ is failed returns false for non failed status                        0.01s  
  ✓ mail type field exists                                               0.02s  
  ✓ subject field exists                                                 0.02s  
  ✓ belongs to thread                                                    0.02s  
  ✓ belongs to customer                                                  0.02s  
  ✓ belongs to user                                                      0.02s  
  ✓ send log with null customer id                                       0.02s  
  ✓ send log with null user id                                           0.02s  
  ✓ send log with null status message                                    0.01s  
  ✓ send log with status message                                         0.02s  
  ✓ send log mail type values                                            0.03s  
  ✓ send log status values                                               0.03s  
  ✓ send log with smtp queue id                                          0.02s  
  ✓ send log with null smtp queue id                                     0.02s  
  ✓ multiple send logs for same thread                                   0.02s  
  ✓ created at and updated at timestamps                                 0.02s  

   PASS  Tests\Unit\SettingsControllerTest
  ✓ controller can be instantiated                                       0.04s  
  ✓ index method exists                                                  0.01s  
  ✓ update method exists                                                 0.01s  
  ✓ email method exists                                                  0.01s  
  ✓ settings controller validates company name                           0.01s  
  ✓ settings controller validates next ticket number                     0.01s  
  ✓ settings controller validates email driver                           0.01s  
  ✓ settings controller validates email address format                   0.01s  
  ✓ settings controller validates mail port is integer                   0.01s  
  ✓ settings controller validates encryption type                        0.01s  

   PASS  Tests\Unit\SmtpServiceTest
  ✓ test connection returns array                                        0.02s  
  ✓ test connection method exists                                        0.01s  
  ✓ configure smtp method exists                                         0.01s  

   PASS  Tests\Unit\SubscriptionModelTest
  ✓ model can be instantiated                                            0.01s  
  ✓ model has fillable attributes                                        0.01s  
  ✓ is email returns true for email medium                               0.01s  
  ✓ is email returns false for non email medium                          0.01s  
  ✓ is browser returns true for browser medium                           0.01s  
  ✓ is browser returns false for non browser medium                      0.01s  
  ✓ is mobile returns true for mobile medium                             0.01s  
  ✓ is mobile returns false for non mobile medium                        0.01s  
  ✓ belongs to user                                                      0.01s  
  ✓ medium and event cast to integer                                     0.01s  
  ✓ subscription medium edge case values                                 0.01s  
  ✓ subscription with various event values                               0.01s  
  ✓ multiple subscriptions for same user                                 0.01s  
  ✓ created at and updated at timestamps                                 0.01s  

   PASS  Tests\Unit\ThreadModelTest
  ✓ thread has conversation id                                           0.02s  
  ✓ thread has user id                                                   0.01s  
  ✓ thread has customer id                                               0.01s  
  ✓ thread has type                                                      0.01s  
  ✓ thread has body                                                      0.01s  
  ✓ thread has from                                                      0.01s  
  ✓ thread has to                                                        0.01s  
  ✓ thread has cc                                                        0.01s  
  ✓ thread has bcc                                                       0.01s  
  ✓ thread has headers                                                   0.01s  
  ✓ is customer message returns true for customer type                   0.01s  
  ✓ is customer message returns false for non customer type              0.02s  
  ✓ is user message returns true for user type                           0.01s  
  ✓ is user message returns false for non user type                      0.02s  
  ✓ is note returns true for note type                                   0.01s  
  ✓ is note returns false for non note type                              0.02s  
  ✓ to cc bcc cast to json                                               0.02s  
  ✓ meta cast to array                                                   0.02s  
  ✓ belongs to conversation                                              0.02s  
  ✓ belongs to created by user                                           0.02s  
  ✓ belongs to edited by user                                            0.03s  
  ✓ has many attachments                                                 0.02s  
  ✓ is bounce returns false when no bounce in meta                       0.02s  
  ✓ is bounce returns true when bounce in meta                           0.02s  
  ✓ is bounce returns false when bounce is false in meta                 0.02s  
  ✓ is bounce handles null meta                                          0.02s  
  ✓ thread with null opened at                                           0.02s  
  ✓ thread with opened at datetime                                       0.02s  
  ✓ thread type constants                                                0.03s  
  ✓ thread with null customer id                                         0.01s  
  ✓ thread with null user id                                             0.02s  
  ✓ thread meta with nested arrays                                       0.02s  
  ✓ thread first flag cast to boolean                                    0.02s  
  ✓ thread has attachments flag cast to boolean                          0.02s  
  ✓ thread with empty to cc bcc arrays                                   0.01s  

   PASS  Tests\Unit\ThreadObserverTest
  ✓ created increments thread count when conversation exists             0.03s  
  ✓ created handles missing conversation                                 0.01s  
  ✓ deleted decrements thread count when conversation exists             0.01s  
  ✓ deleted handles missing conversation                                 0.01s  

   PASS  Tests\Unit\UserModelBatch1Test
  ✓ user has is admin method                                             0.01s  
  ✓ user has is active method                                            0.01s  
  ✓ user has get full name method                                        0.01s  
  ✓ user get full name returns email when name empty                     0.01s  
  ✓ user has full name accessor                                          0.01s  
  ✓ user has name attribute accessor                                     0.01s  
  ✓ user has mailboxes relationship                                      0.01s  
  ✓ user has conversations relationship                                  0.01s  
  ✓ user has folders relationship                                        0.01s  
  ✓ user has followed conversations relationship                         0.01s  
  ✓ user has threads relationship                                        0.01s  
  ✓ user has subscriptions relationship                                  0.01s  
  ✓ user password is automatically hashed                                0.01s  
  ✓ user role constants are defined                                      0.01s  
  ✓ user status constants are defined                                    0.01s  

   PASS  Tests\Unit\UserModelTest
  ✓ user is admin returns true for admin role                            0.02s  
  ✓ user is admin returns false for regular user                         0.01s  
  ✓ user is active returns true for active status                        0.01s  
  ✓ user is active returns false for inactive status                     0.01s  
  ✓ user get full name returns first and last name                       0.01s  
  ✓ user get full name returns email when no name                        0.01s  
  ✓ user name accessor returns full name                                 0.01s  
  ✓ user has mailboxes relationship                                      0.01s  
  ✓ user has conversations relationship                                  0.01s  

   PASS  Tests\Unit\UserPolicyTest
  ✓ admin can view any users                                             0.01s  
  ✓ non admin cannot view any users                                      0.01s  
  ✓ admin can create user                                                0.01s  
  ✓ non admin cannot create user                                         0.01s  
  ✓ admin can update user                                                0.01s  
  ✓ admin can delete other user                                          0.01s  
  ✓ admin cannot delete themselves                                       0.01s  
  ✓ non admin cannot delete user                                         0.03s  

   PASS  Tests\Feature\Auth\AuthenticationTest
  ✓ login screen can be rendered                                         0.03s  
  ✓ users can authenticate using the login screen                        0.02s  
  ✓ users can not authenticate with invalid password                     0.21s  
  ✓ users can logout                                                     0.01s  

   PASS  Tests\Feature\Auth\EmailVerificationTest
  ✓ email verification screen can be rendered                            0.02s  
  ✓ email can be verified                                                0.01s  
  ✓ email is not verified with invalid hash                              0.01s  

   PASS  Tests\Feature\Auth\PasswordConfirmationTest
  ✓ confirm password screen can be rendered                              0.02s  
  ✓ password can be confirmed                                            0.01s  
  ✓ password is not confirmed with invalid password                      0.21s  

   PASS  Tests\Feature\Auth\PasswordResetTest
  ✓ reset password link screen can be rendered                           0.02s  
  ✓ reset password link can be requested                                 0.21s  
  ✓ reset password screen can be rendered                                0.22s  
  ✓ password can be reset with valid token                               0.22s  

   PASS  Tests\Feature\Auth\PasswordUpdateTest
  ✓ password can be updated                                              0.03s  
  ✓ correct password must be provided to update password                 0.01s  

   PASS  Tests\Feature\Auth\RegistrationTest
  ✓ registration screen can be rendered                                  0.02s  
  ✓ new users can register                                               0.01s  

   PASS  Tests\Feature\AuthenticationBatch1Test
  ✓ guest can view login page                                            0.01s  
  ✓ user can successfully log in with valid credentials                  0.01s  
  ✓ authenticated user can log out                                       0.01s  
  ✓ cannot log in with invalid credentials                               0.21s  
  ✓ cannot log in with nonexistent email                                 0.21s  
  ✓ login requires email                                                 0.01s  
  ✓ login requires password                                              0.01s  

   PASS  Tests\Feature\Commands\ConfigureGmailMailboxTest
  ✓ command runs successfully with valid inputs                          0.02s  
  ✓ command uses default mailbox id when not provided                    0.02s  
  ✓ command fails with invalid mailbox id                                0.01s  
  ✓ command rejects invalid email address                                0.01s  
  ✓ command rejects empty password                                       0.01s  
  ✓ command displays configuration summary                               0.02s  
  ✓ command shows app password instructions                              0.03s  
  ✓ command shows next steps after configuration                         0.02s  
  ✓ command accepts various email formats                                0.03s  
  ✓ command updates both incoming and outgoing settings                  0.01s  
  ✓ command handles email with special characters                        0.02s  
  ✓ command accepts password with whitespace                             0.02s  
  ✓ command handles non numeric mailbox id                               0.01s  
  ✓ command preserves mailbox name                                       0.02s  
  ✓ command handles uppercase email address                              0.01s  

   PASS  Tests\Feature\Commands\FetchEmailsCommandTest
  ✓ command fetches emails from specific mailbox                         0.02s  
  ✓ command fetches from all mailboxes when no id specified              0.01s  
  ✓ command test mode only tests connection                              0.02s  
  ✓ command handles connection failure in test mode                      0.01s  
  ✓ command warns when no mailboxes configured                           0.01s  
  ✓ command skips mailboxes without imap server                          0.01s  
  ✓ command handles errors during fetch                                  0.01s  
  ✓ command displays summary statistics                                  0.01s  
  ✓ command handles zero new emails                                      0.01s  
  ✓ command returns zero exit code on success                            0.01s  
  ✓ command with nonexistent mailbox id                                  0.01s  
  ✓ command processes multiple mailboxes in sequence                     0.01s  
  ✓ command handles exception from imap service                          0.02s  
  ✓ command test mode with multiple mailboxes                            0.02s  
  ✓ command skips summary in test mode                                   0.01s  
  ✓ command filters mailboxes with imap configuration                    0.01s  
  ✓ command displays empty line between mailboxes                        0.02s  
  ✓ command test mode with mixed connection results                      0.01s  
  ✓ command handles large number of errors                               0.02s  

   PASS  Tests\Feature\Commands\TestEventSystemTest
  ✓ command fires events with existing conversation                      0.04s  
  ✓ command fails when no conversations exist                            0.01s  
  ✓ command fails when conversation has no threads                       0.02s  
  ✓ command fails when conversation has no customer                      0.02s  
  ✓ command dispatches both events                                       0.02s  
  ✓ command displays customer email                                      0.03s  
  ✓ command uses first conversation with threads                         0.03s  
  ✓ command loads conversation with relationships                        0.02s  
  ✓ command outputs testing message                                      0.03s  
  ✓ command outputs log file location                                    0.02s  
  ✓ command with multiple threads in conversation                        0.02s  
  ✓ command handles invalid customer data gracefully                     0.02s  
  ✓ command fires both event types                                       0.02s  
  ✓ command displays correct conversation id                             0.02s  
  ✓ command displays customer main email                                 0.02s  
  ✓ command works with minimal data setup                                0.02s  
  ✓ command eager loads required relationships                           0.02s  
  ✓ command selects first conversation when multiple exist               0.03s  

   PASS  Tests\Feature\CompleteWorkflowTest
  ✓ full customer inquiry workflow                                       0.09s  
  ✓ auto reply workflow                                                  0.02s  
  ✓ conversation assignment workflow                                     0.03s  
  ✓ multi user collaboration workflow                                    0.04s  
  ✓ email threading workflow                                             0.04s  
  ✓ attachment handling workflow                                         0.03s  
  ✓ user authentication to conversation workflow                         0.06s  
  ✓ settings update affects system behavior                              0.06s  
  ✓ conversation handles deleted customer gracefully                     0.19s  
  ✓ unassigned conversation can be claimed by any agent                  0.03s  
  ✓ reply to closed conversation reopens it                              0.02s  
  ✓ thread can handle multiple attachments                               0.03s  
  ✓ conversation handles concurrent status updates                       0.02s  
  ✓ conversation with empty thread body validation                       0.02s  
  ✓ user loses mailbox access during workflow                            0.03s  
  ✓ conversation list excludes draft conversations                       0.03s  

   PASS  Tests\Feature\ConversationAdvancedTest
  ✓ conversation index shows only published conversations                0.04s  
  ✓ conversation index orders by most recent                             0.03s  
  ✓ viewing conversation marks notifications as read                     0.02s  
  ✓ conversation show loads threads in order                             0.03s  
  ✓ store creates conversation with new customer                         0.02s  
  ✓ store uses existing customer                                         0.02s  
  ✓ store auto increments conversation number                            0.02s  
  ✓ store rolls back on error                                            0.02s  
  ✓ update changes conversation status                                   0.02s  
  ✓ update reassigns conversation                                        0.02s  
  ✓ update moves conversation to folder                                  0.02s  
  ✓ reply creates thread and updates timestamps                          0.02s  
  ✓ reply can update status to closed                                    0.02s  
  ✓ reply returns json for ajax requests                                 0.02s  
  ✓ reply can create internal note                                       0.02s  
  ✓ search finds by subject                                              0.03s  
  ✓ search finds by customer name                                        0.04s  
  ✓ search only shows authorized mailboxes                               0.03s  
  ✓ admin search shows all mailboxes                                     0.03s  
  ✓ search paginates results                                             0.25s  

   WARN  Tests\Feature\ConversationControllerMethodsTest
  ✓ admin can view create conversation form                              0.03s  
  ✓ non admin with mailbox access can view create form                   0.02s  
  ✓ user without mailbox access cannot view create form                  0.01s  
  ✓ guest cannot view create form                                        0.01s  
  ✓ ajax change status updates conversation                              0.02s  
  ✓ ajax change user assigns conversation                                0.02s  
  ✓ ajax change folder moves conversation                                0.02s  
  ✓ ajax delete soft deletes conversation                                0.01s  
  ✓ ajax requires conversation id                                        0.01s  
  ✓ ajax rejects invalid action                                          0.02s  
  ✓ ajax unauthorized user gets forbidden                                0.02s  
  ✓ guest cannot clone conversation                                      0.02s  
  ✓ ajax handles non existent conversation                               0.01s  
  - ajax change status with invalid status value → SQLite does not enfo… 0.01s  
  ✓ ajax change user with null user id                                   0.02s  
  ✓ ajax change folder with non existent folder                          0.02s  
  ✓ ajax with missing action parameter                                   0.01s  
  ✓ ajax handles sql injection attempt                                   0.01s  
  ✓ create form displays user folders only                               0.02s  

   PASS  Tests\Feature\ConversationControllerSecurityTest
  ✓ guest cannot view conversations                                      0.02s  
  ✓ user cannot view unauthorized mailbox conversations                  0.02s  
  ✓ user cannot update conversation in unauthorized mailbox              0.02s  
  ✓ conversation search prevents sql injection                           0.03s  
  ✓ conversation subject sanitizes xss                                   0.02s  
  ✓ conversation creation requires csrf token                            0.01s  
  ✓ user cannot delete unauthorized conversation                         0.02s  
  ✓ admin can access all conversations                                   0.02s  

   PASS  Tests\Feature\ConversationEdgeCasesTest
  ✓ conversation with very long subject is handled                       0.03s  
  ✓ conversation list with many conversations uses pagination            0.12s  
  ✓ conversation with no threads displays correctly                      0.02s  
  ✓ conversation status change validates values                          0.01s  
  ✓ conversation list handles empty mailbox                              0.01s  
  ✓ conversation with special characters in subject is escaped           0.02s  
  ✓ conversation with closed status excludes from active list            0.02s  
  ✓ guest cannot access conversation list                                0.01s  

   PASS  Tests\Feature\ConversationReplyTest
  ✓ user can reply to conversation                                       0.02s  
  ✓ reply validates body is required                                     0.02s  
  ✓ reply can change conversation status                                 0.02s  
  ✓ reply assigns conversation to replying user                          0.02s  
  ✓ unauthorized user cannot reply to conversation                       0.02s  
  ✓ guest cannot reply to conversation                                   0.01s  
  ✓ reply updates conversation timestamp                                 1.02s  
  ✓ conversation update changes status                                   0.02s  
  ✓ conversation update assigns user                                     0.02s  
  ✓ unauthorized user cannot update conversation                         0.02s  

   PASS  Tests\Feature\ConversationTest
  ✓ user can view conversations list                                     0.03s  
  ✓ user can create conversation                                         0.02s  
  ✓ user can view conversation                                           0.04s  
  ✓ user can reply to conversation                                       0.02s  
  ✓ user can update conversation status                                  0.02s  
  ✓ user can assign conversation                                         0.02s  
  ✓ user cannot view conversation in unauthorized mailbox                0.02s  
  ✓ conversation increments thread count                                 0.01s  
  ✓ closed conversation shows correct badge                              0.02s  

   PASS  Tests\Feature\ConversationValidationTest
  ✓ conversation requires subject                                        0.02s  
  ✓ conversation requires body                                           0.01s  
  ✓ conversation validates email format                                  0.01s  
  ✓ conversation subject has reasonable length                           0.01s  
  ✓ conversation body rejects only whitespace                            0.01s  
  ✓ conversation accepts multiple recipients                             0.01s  
  ✓ conversation handles cc and bcc                                      0.01s  
  ✓ conversation rejects invalid customer id                             0.01s  
  ✓ conversation handles special characters in subject                   0.01s  
  ✓ conversation requires at least one recipient                         0.01s  

   PASS  Tests\Feature\CustomerAjaxTest
  ✓ ajax search returns matching customers by first name                 0.02s  
  ✓ ajax search returns matching customers by last name                  0.01s  
  ✓ ajax search limits results to 25                                     0.04s  
  ✓ ajax conversations returns customer conversations                    0.02s  
  ✓ ajax conversations orders by last reply at desc                      0.02s  
  ✓ ajax conversations limits to 50 results                              0.31s  
  ✓ ajax returns error for invalid action                                0.01s  
  ✓ ajax requires authentication                                         0.01s  
  ✓ ajax search returns empty array when no matches                      0.01s  
  ✓ ajax search returns customer with email                              0.01s  
  ✓ ajax conversations returns empty array for customer with no convers… 0.01s  

   PASS  Tests\Feature\CustomerEdgeCasesTest
  ✓ customer with very long name is handled                              0.03s  
  ✓ customer list displays with many records                             0.04s  
  ✓ customer with special characters in name is escaped                  0.01s  
  ✓ customer with null optional fields displays correctly                0.01s  
  ✓ customer list handles no customers                                   0.01s  
  ✓ guest cannot access customer list                                    0.01s  
  ✓ guest cannot view customer detail                                    0.01s  
  ✓ non existent customer returns 404                                    0.01s  

   PASS  Tests\Feature\CustomerManagementTest
  ✓ user can view list of customers                                      0.02s  
  ✓ user can view single customer and conversation history               0.02s  
  ✓ user can update customer details                                     0.01s  
  ✓ cannot create customer with duplicate email if meant to be unique    0.01s  
  ✓ merging two customers reassigns all conversations                    0.02s  
  ✓ unauthenticated user cannot access customers list                    0.01s  
  ✓ unauthenticated user cannot view customer details                    0.01s  
  ✓ unauthenticated user cannot update customer                          0.01s  
  ✓ cannot update customer with invalid email format                     0.01s  
  ✓ cannot merge customer with same id                                   0.01s  
  ✓ cannot merge with non existent customer                              0.01s  
  ✓ user can search customers                                            0.02s  
  ✓ user can access customer edit page                                   0.01s  
  ✓ unauthenticated user cannot access customer edit page                0.01s  
  ✓ updating customer with empty optional fields works                   0.01s  
  ✓ cannot update customer without first name                            0.01s  
  ✓ can update customer with valid country code                          0.01s  
  ✓ merge fails with missing source id                                   0.01s  
  ✓ merge fails with missing target id                                   0.01s  
  ✓ customer list is paginated                                           0.07s  
  ✓ customer show page loads conversations                               0.02s  
  ✓ updating customer with social profiles works                         0.01s  
  ✓ updating customer with websites works                                0.01s  

   PASS  Tests\Feature\CustomerRegressionTest
  ✓ customer identification from incoming email creates new customer     0.03s  
  ✓ customer identification from incoming email finds existing customer  0.01s  
  ✓ customer create sanitizes email address                              0.01s  
  ✓ customer create returns null for invalid email
  ✓ customer create handles email with trailing dots                     0.01s  
  ✓ customer set data fills empty fields only                            0.01s  
  ✓ customer set data replaces all fields when replace data is true      0.01s  
  ✓ customer set data uses background as notes if notes empty            0.01s  
  ✓ customer set data does not set last name if first name exists        0.01s  
  ✓ customer set data does not set first name if last name exists        0.01s  
  ✓ email sanitize removes dot before at symbol
  ✓ email sanitize converts to lowercase
  ✓ email sanitize returns false for invalid format
  ✓ customer create handles multiple emails in data                      0.01s  
  ✓ customer set data does not set photo url                             0.01s  
  ✓ customer set data returns false when no changes                      0.01s  
  ✓ customer create associates email with customer                       0.01s  
  ✓ customer create reuses existing email object                         0.01s  
  ✓ email sanitize handles null input
  ✓ customer set data with array values are ignored when replace true    0.01s  
  ✓ customer create handles empty data array                             0.01s  
  ✓ email sanitize removes multiple trailing dots                        0.01s  
  ✓ customer set data saves when save parameter is true                  1.01s  
  ✓ customer set data does not save when save parameter is false         0.01s  

   PASS  Tests\Feature\DashboardTest
  ✓ admin can view dashboard with all mailboxes                          0.03s  
  ✓ user can view dashboard with assigned mailboxes only                 0.02s  
  ✓ dashboard displays active conversations count                        0.03s  
  ✓ dashboard displays unassigned conversations count                    0.02s  
  ✓ dashboard provides per mailbox statistics                            0.03s  
  ✓ dashboard only counts published conversations                        0.02s  
  ✓ dashboard requires authentication                                    0.01s  
  ✓ dashboard with no conversations shows zero counts                    0.02s  
  ✓ dashboard handles user with no mailboxes                             0.02s  
  ✓ dashboard stats exclude closed conversations                         0.03s  

   PASS  Tests\Feature\ErrorHandlingTest
  ✓ non existent conversation returns 404                                0.01s  
  ✓ non existent customer returns 404                                    0.01s  
  ✓ guest access to protected customer route redirects to login          0.01s  
  ✓ unauthorized mailbox conversation access is prevented                0.02s  
  ✓ invalid email format in customer creation validates                  0.01s  
  ✓ empty required customer field returns validation error               0.02s  
  ✓ ajax search with empty query handled gracefully                      0.01s  
  ✓ sql injection attempt in customer search handled safely              0.01s  
  ✓ xss attempt in customer name is escaped                              0.01s  
  ✓ accessing conversation in deleted mailbox returns 404                0.01s  
  ✓ very long search query handled without error                         0.01s  
  ✓ concurrent conversation reply attempts handled                       0.02s  

   PASS  Tests\Feature\ExampleTest
  ✓ the application returns a successful response                        0.01s  

   PASS  Tests\Feature\MailboxAutoReplyTest
  ✓ admin can view auto reply settings page                              0.01s  
  ✓ non admin cannot view auto reply settings page                       0.01s  
  ✓ admin can enable auto reply with required fields                     0.01s  
  ✓ admin can disable auto reply                                         0.01s  
  ✓ auto reply requires subject when enabled                             0.01s  
  ✓ auto reply requires message when enabled                             0.01s  
  ✓ auto reply subject has max length                                    0.01s  
  ✓ auto reply can include auto bcc email                                0.01s  
  ✓ auto bcc must be valid email                                         0.01s  
  ✓ non admin cannot save auto reply settings                            0.01s  

   PASS  Tests\Feature\MailboxCRUDTest
  ✓ admin can create mailbox                                             0.02s  
  ✓ non admin cannot create mailbox                                      0.01s  
  ✓ mailbox creation validates email format                              0.01s  
  ✓ mailbox creation requires unique email                               0.01s  
  ✓ admin can update mailbox                                             0.02s  
  ✓ non admin cannot update mailbox                                      0.01s  
  ✓ mailbox update validates data                                        0.01s  
  ✓ admin can delete mailbox                                             0.01s  
  ✓ non admin cannot delete mailbox                                      0.01s  
  ✓ guest cannot access mailbox crud operations                          0.02s  
  ✓ mailbox creation with optional fields                                0.01s  

   PASS  Tests\Feature\MailboxConnectionTest
  ✓ non admins cannot view connection settings pages                     0.04s  
  ✓ non admins cannot update connection settings                         0.02s  
  ✓ admin can view incoming connection settings page                     0.02s  
  ✓ admin can update incoming connection settings                        0.01s  
  ✓ incoming connection validation fails with invalid data               0.01s  
  ✓ admin can view outgoing connection settings page                     0.02s  
  ✓ admin can update outgoing connection settings                        0.01s  
  ✓ outgoing connection validation fails with invalid data               0.01s  

   PASS  Tests\Feature\MailboxFetchEmailsTest
  ✓ admin can trigger manual email fetch                                 0.02s  
  ✓ non admin cannot trigger manual email fetch                          0.01s  
  ✓ fetch emails returns error on imap failure                           0.01s  
  ✓ unauthenticated user cannot trigger email fetch                      0.02s  
  ✓ fetch emails with zero new emails                                    0.01s  

   PASS  Tests\Feature\MailboxPermissionsTest
  ✓ admin can view permissions page                                      0.02s  
  ✓ non admin cannot view permissions page                               0.01s  
  ✓ admin can update permissions                                         0.01s  
  ✓ user with view access can view mailbox                               0.02s  
  ✓ user without view access cannot view mailbox                         0.01s  
  ✓ user with reply access can reply                                     0.01s  
  ✓ user with view access cannot reply                                   0.01s  
  ✓ user with admin access can update mailbox settings                   0.02s  
  ✓ user with reply access cannot update mailbox settings                0.02s  

   PASS  Tests\Feature\MailboxRegressionTest
  ✓ mailbox permission logic matches l5 version                          0.04s  
  ✓ mailbox user pivot maintains l5 compatibility                        0.01s  
  ✓ folder structure matches l5 version                                  0.01s  
  ✓ conversation folder relationship matches l5                          0.01s  
  ✓ mailbox passwords are encrypted                                      0.01s  
  ✓ mailbox get mail from matches l5 behavior                            0.01s  
  ✓ mailbox uses custom from name when set                               0.01s  
  ✓ mailbox uses mailbox name as fallback                                0.01s  

   PASS  Tests\Feature\MailboxTest
  ✓ admin can view mailboxes list                                        0.02s  
  ✓ admin can create mailbox                                             0.03s  
  ✓ admin can update mailbox                                             0.01s  
  ✓ admin can delete mailbox                                             0.01s  
  ✓ non admin cannot create mailbox                                      0.01s  
  ✓ mailbox requires unique email                                        0.01s  
  ✓ mailbox can have users attached                                      0.01s  
  ✓ mailbox auto reply settings                                          0.02s  

   PASS  Tests\Feature\MailboxViewTest
  ✓ admin can view mailbox detail                                        0.02s  
  ✓ user with access can view mailbox detail                             0.02s  
  ✓ user without access cannot view mailbox detail                       0.01s  
  ✓ unauthenticated user cannot view mailbox detail                      0.01s  
  ✓ admin can view mailbox settings page                                 0.02s  
  ✓ non admin cannot view mailbox settings page                          0.01s  
  ✓ mailbox index shows only accessible mailboxes for user               0.02s  
  ✓ mailbox index shows all mailboxes for admin                          0.02s  
  ✓ mailbox index requires authentication                                0.01s  

   PASS  Tests\Feature\ModulesTest
  ✓ admin can view modules list page                                     0.03s  
  ✓ non admin cannot view modules list                                   0.01s  
  ✓ guest cannot view modules list                                       0.01s  
  ✓ modules list displays module metadata                                0.01s  
  ✓ enable module returns error for non existent module                  0.01s  
  ✓ disable module returns error for non existent module                 0.01s  
  ✓ delete module returns error for non existent module                  0.01s  
  ✓ non admin cannot enable modules                                      0.01s  
  ✓ non admin cannot disable modules                                     0.01s  
  ✓ non admin cannot delete modules                                      0.01s  
  ✓ guest cannot enable modules                                          0.01s  
  ✓ guest cannot disable modules                                         0.03s  
  ✓ guest cannot delete modules                                          0.01s  
  ✓ enable module returns proper json structure                          0.01s  
  ✓ disable module returns proper json structure                         0.01s  
  ✓ modules index requires manage settings permission                    0.01s  
  ✓ module operations require authentication                             0.01s  
  ✓ module list handles empty modules collection                         0.02s  

   PASS  Tests\Feature\OptionRegressionTest
  ✓ option retrieval matches l5 behavior                                 0.02s  
  ✓ option setting matches l5 behavior                                   0.01s  
  ✓ option deletion matches l5 behavior                                  0.01s  
  ✓ settings default values match l5                                     0.01s  
  ✓ settings update flow matches l5                                      0.01s  
  ✓ boolean options stored as integers like l5                           0.01s  
  ✓ update or create behavior matches l5                                 0.01s  

   PASS  Tests\Feature\PaginationAndFilteringTest
  ✓ conversation list with page 2 navigation                             0.20s  
  ✓ customer ajax search with multiple matching results                  0.05s  
  ✓ conversation search with partial match                               0.03s  
  ✓ mailbox conversations filter by assignment status                    0.03s  
  ✓ customer list handles large dataset efficiently                      0.12s  
  ✓ empty search query returns all results                               0.02s  
  ✓ conversation list excludes draft conversations by default            0.03s  
"Performance Benchmarks:" // tests/Feature/PerformanceTest.php:378
array:4 [
  "dashboard" => 7.6498985290527
  "conversation_list" => 8.1439018249512
  "conversation_view" => 10.859966278076
  "reply_creation" => 7.5550079345703
] // tests/Feature/PerformanceTest.php:378

   PASS  Tests\Feature\PerformanceTest
  ✓ large conversation list loads efficiently                            0.27s  
  ✓ search performs efficiently with large dataset                       0.18s  
  ✓ mailbox with many conversations remains responsive                   0.24s  
  ✓ conversation with many threads loads correctly                       0.08s  
  ✓ conversation list avoids n plus one queries                          0.13s  
  ✓ memory usage remains stable during operations                        0.13s  
  ✓ common operations meet response time benchmarks                      0.06s  
  ✓ database queries use indexes effectively                             0.11s  
  ✓ empty conversation list performs efficiently                         0.02s  
  ✓ conversation with maximum threads loads acceptably                   0.30s  
  ✓ search with no results performs efficiently                          0.12s  
  ✓ conversation list with mixed statuses performs well                  0.27s  
  ✓ sequential conversation loads use connection efficiently             0.08s  
  ✓ pagination boundary performs consistently                            0.52s  
  ✓ rapid consecutive operations maintain stability                      0.08s  
  ✓ repeated operations show no memory leaks                             0.18s  

   PASS  Tests\Feature\ProfileTest
  ✓ profile page is displayed                                            0.03s  
  ✓ profile information can be updated                                   0.03s  
  ✓ email verification status is unchanged when the email address is un… 0.01s  
  ✓ user can delete their account                                        0.01s  
  ✓ correct password must be provided to delete account                  0.01s  

   PASS  Tests\Feature\SecurityAndEdgeCasesTest
  ✓ guest cannot access settings routes                                  0.01s  
  ✓ guest cannot access system routes                                    0.02s  
  ✓ non admin cannot update settings                                     0.01s  
  ✓ non admin cannot access email settings                               0.01s  
  ✓ non admin cannot update email settings                               0.02s  
  ✓ non admin cannot clear cache                                         0.02s  
  ✓ non admin cannot run migrations                                      0.01s  
  ✓ non admin cannot access system diagnostics                           0.01s  
  ✓ option handles null values correctly                                 0.01s  
  ✓ option handles empty string values                                   0.01s  
  ✓ option handles numeric values                                        0.01s  
  ✓ option handles array values                                          0.01s  
  ✓ settings validation prevents sql injection                           0.01s  
  ✓ settings validation prevents xss                                     0.01s  
  ✓ email settings require valid email format                            0.01s  
  ✓ email settings require supported driver                              0.01s  
  ✓ system diagnostics checks database connection                        0.01s  
  ✓ system diagnostics checks storage writable                           0.01s  
  ✓ system diagnostics checks cache working                              0.01s  
  ✓ option set value creates new record when not exists                  0.01s  
  ✓ option set value updates existing record                             0.01s  
  ✓ option delete option handles non existent keys gracefully            0.01s  
  ✓ multiple options can be stored and retrieved                         0.01s  
  ✓ settings page displays existing options                              0.02s  
  ✓ system ajax requires admin                                           0.01s  
  ✓ admin can get system info with correct structure                     0.03s  

   PASS  Tests\Feature\SettingsControllerMethodsTest
  ✓ admin can test smtp connection                                       0.03s  
  ✓ test smtp validates required fields                                  0.01s  
  ✓ test smtp validates email format                                     0.01s  
  ✓ test smtp fails when no server configured                            0.01s  
  ✓ test smtp handles service exceptions                                 0.01s  
  ✓ non admin cannot test smtp                                           0.01s  
  ✓ admin can test imap connection                                       0.01s  
  ✓ test imap validates required mailbox id                              0.01s  
  ✓ test imap fails when no server configured                            0.01s  
  ✓ test imap handles service exceptions                                 0.01s  
  ✓ non admin cannot test imap                                           0.01s  
  ✓ guest cannot test smtp                                               0.01s  
  ✓ guest cannot test imap                                               0.01s  
  ✓ test smtp with invalid mailbox id                                    0.01s  
  ✓ test imap with invalid mailbox id                                    0.01s  
  ✓ test smtp with non numeric mailbox id                                0.01s  
  ✓ test smtp service returns failure                                    0.01s  
  ✓ test imap service returns failure                                    0.01s  
  ✓ test smtp with empty server string                                   0.01s  
  ✓ test imap with empty server string                                   0.01s  
  ✓ test smtp with multiple validation errors                            0.01s  
  ✓ test smtp with special characters in email                           0.01s  

   PASS  Tests\Feature\SettingsOperationsTest
  ✓ admin can clear cache                                                0.04s  
  ✓ non admin cannot clear cache                                         0.04s  
  ✓ guest cannot clear cache                                             0.02s  
  ✓ admin can run migrations                                             0.02s  
  ✓ non admin cannot run migrations                                      0.02s  
  ✓ guest cannot run migrations                                          0.02s  
  ✓ cache clear creates activity log                                     0.03s  
  ✓ migration failure is handled gracefully                              0.02s  
  ✓ settings operations require admin role                               0.03s  
  ✓ consecutive cache clears work                                        0.03s  
  ✓ cache clear with active sessions                                     0.03s  

   PASS  Tests\Feature\SettingsTest
  ✓ admin can view main settings page                                    0.04s  
  ✓ admin can update general setting                                     0.02s  
  ✓ admin can view email settings page                                   0.02s  
  ✓ admin can update email settings                                      0.02s  
  ✓ admin can view system settings page                                  0.02s  
  ✓ non admin user cannot access settings routes                         0.02s  
  ✓ submitting invalid data to setting fails validation                  0.03s  
  ✓ submitting invalid driver fails validation                           0.02s  
  ✓ admin can clear cache                                                0.03s  
  ✓ settings update clears cache                                         0.02s  

   PASS  Tests\Feature\SystemTest
  ✓ admin can view system status page                                    0.05s  
  ✓ system status page displays php version                              0.02s  
  ✓ system status page displays laravel version                          0.02s  
  ✓ admin can run system diagnostics                                     0.02s  
  ✓ non admin cannot view system status                                  0.02s  
  ✓ admin can view system logs                                           0.03s  
  ✓ non admin cannot access system logs                                  0.02s  
  ✓ admin can clear cache via ajax                                       0.03s  
  ✓ admin can optimize application via ajax                              0.25s  
  ✓ admin can get system info via ajax                                   0.01s  
  ✓ non admin cannot execute system ajax commands                        0.02s  
  ✓ invalid ajax action returns error                                    0.02s  

   PASS  Tests\Feature\UserControllerMethodsTest
  ✓ non admin cannot view create user form                               0.04s  
  ✓ guest cannot view create user form                                   0.01s  
  ✓ admin can view user details                                          0.02s  
  ✓ user can view own profile                                            0.02s  
  ✓ user cannot view other user profile                                  0.01s  
  ✓ show includes related data                                           0.02s  
  ✓ admin can view edit user form                                        0.02s  
  ✓ user can edit own profile                                            0.01s  
  ✓ user cannot edit other user                                          0.01s  
  ✓ guest cannot view edit user form                                     0.01s  
  ✓ show with non existent user                                          0.01s  
  ✓ edit with non existent user                                          0.01s  
  ✓ show inactive user                                                   0.02s  
  ✓ edit inactive user                                                   0.02s  
  ✓ show with deleted related data                                       0.02s  
  ✓ show user with no mailboxes                                          0.02s  
  ✓ show user with multiple mailboxes                                    0.02s  
  ✓ regular user cannot view admin profile                               0.01s  
  ✓ regular user cannot edit admin profile                               0.01s  
  ✓ show includes conversations relationship                             0.02s  
  ✓ user can view own profile with special characters in name            0.02s  
  ✓ edit form for user with boundary field values                        0.02s  

   PASS  Tests\Feature\UserManagementAdminBatch1Test
  ✓ admin user can create a new user                                     0.03s  
  ✓ admin user can create user with admin role                           0.01s  
  ✓ admin user can update an existing user                               0.01s  
  ✓ admin can change user role                                           0.02s  
  ✓ admin can change user status                                         0.03s  
  ✓ created user password is properly hashed                             0.01s  
  ✓ non admin user cannot access user management routes                  0.01s  
  ✓ non admin user cannot create users                                   0.01s  
  ✓ non admin user cannot update other users                             0.01s  
  ✓ admin can assign user to mailboxes                                   0.02s  

   PASS  Tests\Feature\UserManagementTest
  ✓ admin can view users list                                            0.03s  
  ✓ admin can create user                                                0.03s  
  ✓ admin can update user                                                0.01s  
  ✓ admin can deactivate user                                            0.01s  
  ✓ non admin cannot access users list                                   0.01s  
  ✓ user email must be unique                                            0.01s  
  ✓ user password is hashed                                              0.01s  
  ✓ user can be assigned to mailboxes                                    0.02s  
  ✓ admin cannot delete themselves                                       0.01s  
  ✓ admin can delete other users                                         0.01s  

   PASS  Tests\Feature\UserPermissionsTest
  ✓ admin can assign mailbox permissions to user                         0.02s  
  ✓ admin can remove mailbox permissions from user                       0.02s  
  ✓ admin can remove all mailbox permissions                             0.01s  
  ✓ non admin cannot assign permissions                                  0.01s  
  ✓ guest cannot assign permissions                                      0.01s  
  ✓ permission assignment handles invalid mailbox ids                    0.02s  
  ✓ admin role provides broader access                                   0.02s  

   PASS  Tests\Feature\UserSecurityBatch1Test
  ✓ user email is sanitized against xss                                  0.02s  
  ✓ user name fields handle html tags properly                           0.01s  
  ✓ mass assignment protection prevents role escalation                  0.01s  
  ✓ session is invalidated on logout                                     0.01s  
  ✓ failed login attempts do not reveal user existence                   0.41s  

  Tests:    1 skipped, 973 passed (2415 assertions)
  Duration: 21.98s

